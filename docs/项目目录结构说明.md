# SSO 项目目录结构说明

## 项目概述
这是一个基于 Spring Boot + Vue.js 的单点登录（SSO）系统项目，包含服务端、客户端和公共模块。

## 目录结构

```
sso-project-X/
├── db/                                    # 数据库相关文件目录
│   ├── sso_complete_setup.sql            # 完整的数据库初始化脚本
│   └── sso_init_data.sql                 # 初始数据插入脚本
│
├── docs/                                  # 项目文档目录
│   ├── analysis/                          # 项目分析文档
│   │   ├── check-project.md              # 项目检查报告
│   │   ├── feature-comparison.md         # 功能对比分析
│   │   └── sso-client-analysis-report.md # 客户端分析报告
│   │
│   ├── architecture/                      # 架构设计文档
│   │   ├── architecture-design.md        # 系统架构设计
│   │   └── sso-interaction-specification.md # SSO交互规范
│   │
│   ├── deployment/                        # 部署相关文档
│   │   ├── deploy.md                     # 部署指南
│   │   └── git-setup.md                  # Git配置说明
│   │
│   └── guides/                           # 使用指南文档
│       ├── client-minimal-implementation.md # 客户端最小实现指南
│       ├── project-structure-and-dependencies.md # 项目结构和依赖说明
│       ├── security-configuration.md     # 安全配置指南
│       ├── server-implementation-guide.md # 服务端实现指南
│       ├── SSO_INTEGRATION_GUIDE.md      # SSO集成指南
│       ├── sso-feature-upgrade-plan.md   # SSO功能升级计划
│       ├── sso-flow-implementation.md    # SSO流程实现指南
│       ├── sso-troubleshooting.md        # SSO故障排除指南
│       └── third-party-integration.md    # 第三方集成指南
│
├── logs/                                  # 日志文件目录
│
├── README.md                              # 项目主说明文档
│
├── sso-client-backend/                    # SSO客户端后端模块（Spring Boot）
│   ├── backup/                           # 备份文件目录
│   ├── HELP.md                           # Spring Boot帮助文档
│   ├── logs/                             # 客户端日志目录
│   ├── mvnw                              # Maven Wrapper脚本（Unix）
│   ├── mvnw.cmd                          # Maven Wrapper脚本（Windows）
│   ├── pom.xml                           # Maven项目配置文件
│   ├── README.md                         # 客户端模块说明文档
│   └── src/                              # 源代码目录
│       ├── main/                         # 主要源代码
│       │   ├── java/                     # Java源代码
│       │   │   └── org/example/ssoclient/
│       │   │       ├── config/           # 配置类目录
│       │   │       │   └── SsoClientConfig.java # SSO客户端配置类
│       │   │       ├── controller/       # 控制器目录
│       │   │       │   ├── RoleController.java # 角色管理控制器
│       │   │       │   └── SsoClientController.java # SSO客户端控制器
│       │   │       ├── dto/              # 数据传输对象目录
│       │   │       │   ├── MenuDTO.java  # 菜单数据传输对象
│       │   │       │   ├── RoleInfoDTO.java # 角色信息数据传输对象
│       │   │       │   └── UserInfoDTO.java # 用户信息数据传输对象
│       │   │       ├── integration/      # 集成相关目录
│       │   │       ├── service/          # 服务层目录
│       │   │       │   ├── impl/         # 服务实现类目录
│       │   │       │   │   └── RolePermissionServiceImpl.java # 角色权限服务实现
│       │   │       │   ├── RolePermissionService.java # 角色权限服务接口
│       │   │       │   └── UserInfoService.java # 用户信息服务接口
│       │   │       └── SsoClientApplication.java # 客户端主启动类
│       │   └── resources/                # 资源文件目录
│       │       ├── application.yml       # 应用配置文件
│       │       ├── static/               # 静态资源目录
│       │       └── templates/            # 模板文件目录
│       └── test/                         # 测试代码目录
│           └── java/org/example/ssoclient/
│               └── SsoClientApplicationTests.java # 客户端测试类
│
├── sso-client-frontend/                   # SSO客户端前端模块（Vue.js）
│   ├── index.html                        # 主页面HTML文件
│   ├── package-lock.json                 # 依赖锁定文件
│   ├── package.json                      # 前端依赖配置文件
│   ├── README.md                         # 前端模块说明文档
│   ├── src/                              # 前端源代码目录
│   │   ├── api/                          # API接口目录
│   │   ├── App.vue                       # Vue根组件
│   │   ├── components/                   # 公共组件目录
│   │   ├── config/                       # 配置文件目录
│   │   │   └── sso.js                   # SSO配置文件
│   │   ├── constants/                    # 常量定义目录
│   │   ├── layouts/                      # 布局组件目录
│   │   ├── main.js                       # Vue应用入口文件
│   │   ├── router/                       # 路由配置目录
│   │   │   └── index.js                 # 路由主配置文件
│   │   ├── services/                     # 服务层目录
│   │   ├── stores/                       # 状态管理目录
│   │   │   └── auth.js                  # 认证状态管理
│   │   ├── utils/                        # 工具函数目录
│   │   │   └── request.js               # HTTP请求工具
│   │   └── views/                        # 页面视图目录
│   │       ├── 404.vue                   # 404错误页面
│   │       ├── admin/                    # 管理员页面目录
│   │       ├── airline/                  # 航空公司相关页面
│   │       │   ├── Flight.vue           # 航班管理页面
│   │       │   ├── Info.vue             # 航空公司信息页面
│   │       │   └── Passenger.vue        # 乘客管理页面
│   │       ├── Callback.vue              # SSO回调处理页面
│   │       ├── dashboard/                # 仪表板页面目录
│   │       │   ├── AdminDashboard.vue   # 管理员仪表板
│   │       │   ├── AirlineDashboard.vue # 航空公司仪表板
│   │       │   ├── EnterpriseDashboard.vue # 企业仪表板
│   │       │   └── PersonalDashboard.vue # 个人仪表板
│   │       ├── Dashboard.vue             # 主仪表板页面
│   │       ├── enterprise/               # 企业相关页面
│   │       │   ├── Auth.vue             # 企业认证页面
│   │       │   ├── Info.vue             # 企业信息页面
│   │       │   └── Member.vue           # 企业成员管理页面
│   │       ├── Home.vue                  # 首页
│   │       ├── monitor/                  # 监控页面目录
│   │       │   ├── LoginLog.vue         # 登录日志页面
│   │       │   ├── Online.vue           # 在线用户监控页面
│   │       │   └── Server.vue           # 服务器监控页面
│   │       ├── personal/                 # 个人相关页面目录
│   │       ├── Profile.vue               # 用户资料页面
│   │       ├── SsoTest.vue              # SSO测试页面
│   │       ├── system/                   # 系统管理页面
│   │       │   ├── Menu.vue             # 菜单管理页面
│   │       │   ├── Role.vue             # 角色管理页面
│   │       │   └── User.vue             # 用户管理页面
│   │       ├── user/                     # 用户相关页面
│   │       │   ├── Device.vue           # 设备管理页面
│   │       │   ├── LoginLog.vue         # 用户登录日志页面
│   │       │   ├── OAuth.vue            # OAuth管理页面
│   │       │   ├── Profile.vue          # 用户资料页面
│   │       │   └── Security.vue         # 安全设置页面
│   │       └── Users.vue                 # 用户列表页面
│   └── vite.config.js                    # Vite构建工具配置文件
│
├── sso-common/                           # 公共模块（共享代码和工具）
│   ├── COMMON_LAYER_FIX_SUMMARY.md      # 公共层修复总结文档
│   ├── COMMON_LAYER_USAGE.md            # 公共层使用说明文档
│   ├── mvnw                              # Maven Wrapper脚本（Unix）
│   ├── mvnw.cmd                          # Maven Wrapper脚本（Windows）
│   ├── pom.xml                           # Maven项目配置文件
│   ├── README.md                         # 公共模块说明文档
│   └── src/                              # 源代码目录
│       └── main/java/org/example/common/
│           ├── annotation/               # 注解定义目录
│           ├── config/                   # 配置类目录
│           ├── constant/                 # 常量定义目录
│           ├── constants/                # 常量类目录
│           │   └── CommonConstants.java  # 通用常量定义
│           ├── dto/                      # 数据传输对象目录
│           │   ├── LoginRequest.java     # 登录请求对象
│           │   └── LoginResponse.java    # 登录响应对象
│           ├── entity/                   # 实体类目录
│           ├── enums/                    # 枚举定义目录
│           │   ├── DeviceType.java       # 设备类型枚举
│           │   ├── Gender.java           # 性别枚举
│           │   ├── LoginType.java        # 登录类型枚举
│           │   ├── OAuthProvider.java    # OAuth提供商枚举
│           │   ├── SecurityEventType.java # 安全事件类型枚举
│           │   └── UserType.java         # 用户类型枚举
│           ├── exception/                # 异常处理目录
│           │   ├── BusinessException.java # 业务异常类
│           │   └── GlobalExceptionHandler.java # 全局异常处理器
│           ├── interceptor/              # 拦截器目录
│           ├── mapper/                   # 数据映射器目录
│           ├── model/                    # 数据模型目录
│           │   ├── ApiResponse.java      # API响应模型
│           │   ├── MenuDTO.java          # 菜单数据传输对象
│           │   ├── OAuthBindingDTO.java  # OAuth绑定数据传输对象
│           │   ├── PageResult.java       # 分页结果模型
│           │   ├── RoleDTO.java          # 角色数据传输对象
│           │   ├── UserDeviceDTO.java    # 用户设备数据传输对象
│           │   └── UserDTO.java          # 用户数据传输对象
│           ├── result/                   # 结果封装目录
│           │   ├── Result.java           # 统一结果封装类
│           │   └── ResultCode.java       # 结果状态码定义
│           ├── util/                     # 工具类目录
│           │   ├── DesensitizeUtil.java  # 数据脱敏工具类
│           │   ├── DeviceUtil.java       # 设备工具类
│           │   └── EncryptUtil.java      # 加密工具类
│           └── vo/                       # 视图对象目录
│
└── sso-server/                           # SSO服务端模块（Spring Boot）
    ├── logs/                              # 服务端日志目录
    ├── mvnw                               # Maven Wrapper脚本（Unix）
    ├── mvnw.cmd                           # Maven Wrapper脚本（Windows）
    ├── pom.xml                            # Maven项目配置文件
    └── src/                               # 源代码目录
        └── main/java/org/example/ssoserver/
            ├── config/                    # 配置类目录
            │   ├── PasswordConfig.java    # 密码配置类
            │   ├── RedisConfig.java       # Redis配置类
            │   ├── SaTokenConfig.java     # Sa-Token配置类
            │   ├── SaTokenExceptionHandler.java # Sa-Token异常处理器
            │   └── SecurityConfig.java    # 安全配置类
            ├── controller/                 # 控制器目录
            │   ├── AuthController.java    # 认证控制器
            │   ├── LoginPageController.java # 登录页面控制器
            │   ├── PermissionController.java # 权限控制器
            │   ├── SsoController.java     # SSO核心控制器
            │   ├── StaticResourceController.java # 静态资源控制器
            │   └── UserController.java    # 用户管理控制器
            ├── dto/                       # 数据传输对象目录
            │   └── SsoTicketInfo.java     # SSO票据信息对象
            ├── entity/                    # 实体类目录
            │   ├── SysLoginLog.java       # 系统登录日志实体
            │   ├── SysMenu.java           # 系统菜单实体
            │   ├── SysRole.java           # 系统角色实体
            │   ├── SysRoleMenu.java       # 角色菜单关联实体
            │   ├── SysUser.java           # 系统用户实体
            │   ├── SysUserRole.java       # 用户角色关联实体
            │   └── UserDevice.java        # 用户设备实体
            ├── mapper/                    # 数据访问层目录
            │   ├── SysLoginLogMapper.java # 登录日志数据访问接口
            │   ├── SysMenuMapper.java     # 菜单数据访问接口
            │   ├── SysRoleMapper.java     # 角色数据访问接口
            │   ├── SysRoleMenuMapper.java # 角色菜单关联数据访问接口
            │   ├── SysUserMapper.java     # 用户数据访问接口
            │   ├── SysUserRoleMapper.java # 用户角色关联数据访问接口
            │   └── UserDeviceMapper.java  # 用户设备数据访问接口
            ├── service/                   # 服务层目录
            │   ├── AuthService.java       # 认证服务接口
            │   ├── DeviceManagementService.java # 设备管理服务接口
            │   ├── impl/                  # 服务实现类目录
            │   │   ├── AuthServiceImpl.java # 认证服务实现
            │   │   ├── PermissionServiceImpl.java # 权限服务实现
            │   │   └── SysUserServiceImpl.java # 用户服务实现
            │   ├── PermissionService.java # 权限服务接口
            │   └── SysUserService.java    # 用户服务接口
            └── SsoServerApplication.java  # 服务端主启动类
        └── resources/                     # 资源文件目录
            ├── application.yml            # 应用配置文件
            ├── mapper/                    # MyBatis映射文件目录
            └── static/                    # 静态资源目录
        └── test/                          # 测试代码目录
            └── java/org/example/ssoserver/
                ├── config/                # 测试配置目录
                │   └── TestConfig.java    # 测试配置类
                ├── GeneratePasswordHash.java # 密码哈希生成工具
                ├── PasswordTest.java      # 密码测试类
                └── SsoServerApplicationTests.java # 服务端测试类
```

## 模块说明

### 1. sso-server（SSO服务端）
- **功能**：提供单点登录认证服务，管理用户、角色、权限等核心功能
- **技术栈**：Spring Boot + MyBatis + Sa-Token + Redis
- **主要组件**：认证控制器、权限管理、用户管理、设备管理等

### 2. sso-client-backend（SSO客户端后端）
- **功能**：客户端应用的后端服务，处理业务逻辑和SSO集成
- **技术栈**：Spring Boot + MyBatis
- **主要组件**：角色管理、用户信息服务、SSO客户端配置等

### 3. sso-client-frontend（SSO客户端前端）
- **功能**：客户端应用的前端界面，提供用户交互界面
- **技术栈**：Vue.js + Vite + Vue Router + Pinia
- **主要页面**：仪表板、用户管理、系统管理、监控等

### 4. sso-common（公共模块）
- **功能**：提供各模块共享的工具类、常量、异常处理等
- **技术栈**：Java
- **主要组件**：统一响应封装、工具类、枚举定义、异常处理等

### 5. 数据库脚本（db目录）
- **功能**：数据库初始化和数据准备
- **内容**：表结构创建、初始数据插入等

### 6. 项目文档（docs目录）
- **功能**：项目相关的各种说明文档
- **分类**：架构设计、部署指南、使用说明、故障排除等

## 技术架构特点

1. **前后端分离**：前端使用Vue.js，后端使用Spring Boot
2. **模块化设计**：服务端、客户端、公共模块分离，便于维护和扩展
3. **统一认证**：基于Sa-Token实现SSO单点登录
4. **权限管理**：完整的RBAC权限控制体系
5. **多端支持**：支持Web端和移动端设备管理

## 开发环境要求

- **Java**：JDK 8+
- **Maven**：3.6+
- **Node.js**：14+
- **数据库**：MySQL 5.7+
- **缓存**：Redis 5.0+

## 部署说明

1. 首先执行数据库脚本初始化数据库
2. 配置各模块的配置文件（application.yml）
3. 启动Redis服务
4. 依次启动sso-server、sso-client-backend
5. 构建并部署sso-client-frontend

---

*本文档最后更新：2024年*
*项目版本：SSO Project X*
