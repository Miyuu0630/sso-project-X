import{_ as T,i as w,Y as h,m as D,a as E,o as V,b as e,w as a,d as u,ab as F,r as o,f as m,e as g,aa as N,$ as j,ac as I,n as M,t as O,F as P,E as W}from"./main-0j-tL-il.js";const Y={class:"login-log"},$={class:"card-header"},q={class:"search-area"},A={class:"pagination"},G={__name:"LoginLog",setup(H){const p=w(!1),f=w([]),s=h({username:"",success:null,dateRange:[]}),r=h({page:1,size:10,total:0}),i=async()=>{try{p.value=!0;const d=[{id:1,username:"admin",ip:"192.168.1.100",location:"北京市",browser:"Chrome 120",os:"Windows 10",loginTime:"2024-01-19 14:30:00",success:!0,message:"登录成功"},{id:2,username:"test_user",ip:"192.168.1.101",location:"上海市",browser:"Firefox 121",os:"macOS",loginTime:"2024-01-19 14:25:00",success:!1,message:"密码错误"}];f.value=d,r.total=d.length}catch(d){console.error("加载登录日志失败:",d),W.error("加载登录日志失败")}finally{p.value=!1}},y=()=>{Object.assign(s,{username:"",success:null,dateRange:[]}),r.page=1,i()};return D(()=>{i()}),(d,l)=>{const _=o("el-icon"),z=o("el-input"),c=o("el-form-item"),b=o("el-option"),k=o("el-select"),C=o("el-date-picker"),v=o("el-button"),x=o("el-form"),n=o("el-table-column"),L=o("el-tag"),S=o("el-table"),U=o("el-pagination"),B=o("el-card"),R=I("loading");return V(),E("div",Y,[e(B,null,{header:a(()=>[u("div",$,[e(_,null,{default:a(()=>[e(g(P))]),_:1}),l[5]||(l[5]=u("span",null,"登录日志",-1))])]),default:a(()=>[u("div",q,[e(x,{model:s,inline:""},{default:a(()=>[e(c,{label:"用户名"},{default:a(()=>[e(z,{modelValue:s.username,"onUpdate:modelValue":l[0]||(l[0]=t=>s.username=t),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),e(c,{label:"状态"},{default:a(()=>[e(k,{modelValue:s.success,"onUpdate:modelValue":l[1]||(l[1]=t=>s.success=t),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(b,{label:"成功",value:!0}),e(b,{label:"失败",value:!1})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"时间范围"},{default:a(()=>[e(C,{modelValue:s.dateRange,"onUpdate:modelValue":l[2]||(l[2]=t=>s.dateRange=t),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(v,{type:"primary",onClick:i},{default:a(()=>[e(_,null,{default:a(()=>[e(g(N))]),_:1}),l[6]||(l[6]=m(" 搜索 ",-1))]),_:1,__:[6]}),e(v,{onClick:y},{default:a(()=>[e(_,null,{default:a(()=>[e(g(j))]),_:1}),l[7]||(l[7]=m(" 重置 ",-1))]),_:1,__:[7]})]),_:1})]),_:1},8,["model"])]),F((V(),M(S,{data:f.value,style:{width:"100%"}},{default:a(()=>[e(n,{prop:"username",label:"用户名",width:"120"}),e(n,{prop:"ip",label:"IP地址",width:"140"}),e(n,{prop:"location",label:"登录地点",width:"120"}),e(n,{prop:"browser",label:"浏览器",width:"150"}),e(n,{prop:"os",label:"操作系统",width:"120"}),e(n,{prop:"loginTime",label:"登录时间",width:"160"}),e(n,{prop:"success",label:"状态",width:"80"},{default:a(t=>[e(L,{type:t.row.success?"success":"danger"},{default:a(()=>[m(O(t.row.success?"成功":"失败"),1)]),_:2},1032,["type"])]),_:1}),e(n,{prop:"message",label:"备注","show-overflow-tooltip":""})]),_:1},8,["data"])),[[R,p.value]]),u("div",A,[e(U,{"current-page":r.page,"onUpdate:currentPage":l[3]||(l[3]=t=>r.page=t),"page-size":r.size,"onUpdate:pageSize":l[4]||(l[4]=t=>r.size=t),"page-sizes":[10,20,50,100],total:r.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:i,onCurrentChange:i},null,8,["current-page","page-size","total"])])]),_:1})])}}},K=T(G,[["__scopeId","data-v-47b4f5f9"]]);export{K as default};
